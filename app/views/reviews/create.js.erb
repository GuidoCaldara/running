<% if @review.errors.any? %>
  document.querySelector("body").insertAdjacentHTML("afterbegin", `<%= j render "shared/js_alert", messages: @review.errors.full_messages %>`)
<% else %>
  var noReviews = document.querySelector("#no-reviews")
  if (noReviews != null) noReviews.remove()
  document.querySelector(".reviews-box").insertAdjacentHTML("afterbegin", `<%= j render "reviews/show", r: @review %>`)
  document.querySelector("body").insertAdjacentHTML("afterbegin", `<%= j render "shared/js_alert", x: "Recensione inserita correttamente!",messages: @review.errors.full_messages %>`)
  document.querySelector(".jsalert").style.top = window.pageYOffset + "px"
  setTimeout(function(){
    document.querySelector(".jsalert").remove();
  }, 3500);
  document.querySelector("body").classList.remove("modal-open")

  document.querySelector(".modal-close-btn").click()
  document.querySelector(".review-form-container").remove()
  document.querySelector(".modal-backdrop").remove()

<% end %>
